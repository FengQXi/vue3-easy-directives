(function(n,s){typeof exports=="object"&&typeof module<"u"?s(exports):typeof define=="function"&&define.amd?define(["exports"],s):(n=typeof globalThis<"u"?globalThis:n||self,s(n["vue3-easy-directives"]={}))})(this,function(n){"use strict";const s=e=>e.focus();function y(e,t,o){const r=new CustomEvent(t,{bubbles:!0,detail:o});e.dispatchEvent(r)}function m(e,t){let o;return e.tagName!==t.toUpperCase()?o=e.querySelector(t):o=e,o}const v={mounted(e,t){let{arg:o="blur"}=t;o!=="input"&&o!=="blur"&&(o="blur");let r=m(e,"input");const a=function(i){const p=i.target.value.trim();i.target.value!=p&&(i.target.value=p,y(r,"input"))};e._vTrim_inputEle=r,e._vTrim_handler=a,r.addEventListener(o,a)},unmounted(e){const{_vTrim_inputEle:t}=e;t.removeEventListener("blur",e._vTrim_handler)}},h=e=>new Promise((t,o)=>{let r=new Image;r.src=e,r.onload=()=>{t()},r.onerror=a=>{o(a)}}),c=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){const o=t.target;h(o._vLazy_value).then(()=>{o.src=o._vLazy_value}).catch(r=>{o._vLazy_error()}),c.unobserve(o)}})},{threshold:0}),C=function(e){return{mounted(t,o){t.src=e.loading,t._vLazy_value=o.value,t._vLazy_error=()=>{t.src=e.error},c.observe(t)},unmounted(t){c.unobserve(t)}}},g={install:(e,t)=>{e.directive("lazyLoad",C(t))}},_={mounted(e,t){if(t.arg==="success")e._vCopy_success=t.value;else if(t.arg==="error")e._vCopy_error=t.value;else{e._vCopy_value=t.value;const o=async function(){navigator.clipboard.writeText(e._vCopy_value).then(()=>{(e._vCopy_success||typeof e._vCopy_success=="function")&&e._vCopy_success()}).catch(r=>{(e._vCopy_error||typeof e._vCopy_error=="function")&&e._vCopy_error(),console.error("Failed to copy text",r)})};e._vCopy_handler=o,e.addEventListener("click",e._vCopy_handler)}},updated(e,t){t.arg==="success"?e._vCopy_success=t.value:t.arg==="error"?e._vCopy_error=t.value:e._vCopy_value=t.value},unmounted(e){e.removeEventListener("click",e._vCopy_handler)}},E=150,b=1e3,l=new WeakMap,u=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){const o=t.target,r=l.get(o);r==null||r.play(),u.unobserve(o)}})});function L(e){const t=e.getBoundingClientRect();return t.top>window.innerHeight&&t.bottom>0}const d={mounted(e){if(!L(e))return;const t=e.animate([{transform:`translateY(${E}px)`,opacity:.5},{transfrom:"translateY(0)",opacity:1}],{duration:b,easing:"ease"});t.pause(),l.set(e,t),u.observe(e)},unmounted(e){u.unobserve(e)}},f={focus:s,trim:v,copy:_,slideIn:d},w={install:e=>{Object.keys(f).forEach(t=>{e.directive(t,f[t])})}};n.copy=_,n.default=w,n.focus=s,n.lazyLoad=g,n.slideIn=d,n.trim=v,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
